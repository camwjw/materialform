$("input,select,textarea").each(function(){var a=$(this);a.bind("change paste keyup",function(){""===a.val()?(a.addClass("empty"),a.removeClass("notempty")):(a.addClass("notempty"),a.removeClass("empty"))})});var parent,ink,d,x,y;$("button").click(function(a){parent=$(this).parent(),0==parent.find(".ink").length&&parent.prepend("<span class='ink'></span>"),ink=parent.find(".ink"),ink.removeClass("animate"),ink.height()||ink.width()||(d=Math.max(parent.outerWidth(),parent.outerHeight()),ink.css({height:d,width:d})),x=a.pageX-parent.offset().left-ink.width()/2,y=a.pageY-parent.offset().top-ink.height()/2,ink.css({top:y+"px",left:x+"px"}).addClass("animate")}),$(function(){var a=$("#textarea"),b=$(document.createElement("div")),c=null;a.addClass("txtstuff"),b.addClass("hiddendiv common"),$("body").append(b),a.on("keyup",function(){c=$(this).val(),c=c.replace(/\n/g,"<br>"),b.html(c+'<br class="lbr">'),$(this).css("height",b.outerHeight())})});